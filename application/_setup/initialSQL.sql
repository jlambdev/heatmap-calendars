/*
 *	SYSTEM ENTITIES: Users, Permission Groups, User Sessions and System Feedback
 */

/* Groups: Enable permissions to features of the website */
CREATE TABLE IF NOT EXISTS `sys_groups` (
	`group_id` int(11) NOT NULL AUTO_INCREMENT,
	`name` varchar(20) NOT NULL,
	`permissions` text NOT NULL,
	PRIMARY KEY (`group_id`)
	) ENGINE=InnoDB DEFAULT CHARSET=latin1;

INSERT INTO `sys_groups` (`group_id`, `name`, `permissions`) VALUES
	(1, 'Standard user', '{\r\n"power": 0,\r\n"admin": 0\r\n}'),
	(2, 'Power user', '{\r\n"power": 1,\r\n"admin": 0\r\n}'),
	(3, 'Administrator', '{\r\n"power": 1,\r\n"admin": 1\r\n}');

/* Users: Stores user-names and passwords */
/* NOTE: setup_admin password is 'password' for system initialisation */
/* Please create a new administrator account and delete this user */
CREATE TABLE IF NOT EXISTS `sys_users` (
	`user_id` int(11) NOT NULL AUTO_INCREMENT,
	`username` varchar(20) NOT NULL UNIQUE,
	`password` varchar(64) NOT NULL,
	`salt` varchar(32) NOT NULL,
	`name` varchar(50) NOT NULL,
	`joined` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
	`group_id` int(11) NOT NULL DEFAULT 1,
	PRIMARY KEY (`user_id`),
	FOREIGN KEY (`group_id`) REFERENCES `sys_groups`(`group_id`)
	) ENGINE=InnoDB DEFAULT CHARSET=latin1;

INSERT INTO `sys_users` (`user_id`, `username`, `password`, `salt`, `name`, `group_id`) VALUES
(1, 'setup_admin', '72a31b58a0665eac98225757ad53bd8522b50ebe7f09236200fb7580e97cc076', 'd157f53822a6e10c38571b0ed64cce15', 'Setup Admin', 3),
(2, 'setup_power', '72a31b58a0665eac98225757ad53bd8522b50ebe7f09236200fb7580e97cc076', 'd157f53822a6e10c38571b0ed64cce15', 'Setup Power User', 2),
(3, 'setup_user', '72a31b58a0665eac98225757ad53bd8522b50ebe7f09236200fb7580e97cc076', 'd157f53822a6e10c38571b0ed64cce15', 'Setup Standard User', 1);

/* Hashes for Cookies: Retain sessions for users that want to use cookies */
CREATE TABLE IF NOT EXISTS `sys_users_session` (
	`session_id` int(11) NOT NULL AUTO_INCREMENT,
	`user_id` int(11) NOT NULL,
	`hash` varchar(50) NOT NULL,
	PRIMARY KEY (`session_id`),
	FOREIGN KEY (`user_id`) REFERENCES `sys_users`(`user_id`)
	) ENGINE=InnoDB DEFAULT CHARSET=latin1;

/*
 *	APPLICATION ENTITIES: Academic years/semester dates, Modules,
 *	Assessment/Feedback type and a collection of associations (YMAF data)
 */

/* Academic years & semester dates: Provides academic year and start/end dates for semesters 1, 2 and 3 */
CREATE TABLE IF NOT EXISTS `app_aca_year` (
	`year_id` int(11) NOT NULL AUTO_INCREMENT,
  `aca_year` varchar(7) NOT NULL UNIQUE,
	`sem_1_start` date NOT NULL,
	`sem_1_end` date NOT NULL,
	`sem_2_start` date NOT NULL,
	`sem_2_end` date NOT NULL,
	`sem_3_start` date NOT NULL,
	`sem_3_end` date NOT NULL,
	PRIMARY KEY (`year_id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

INSERT INTO `app_aca_year` (`aca_year`, `sem_1_start`, `sem_1_end`,
	`sem_2_start`, `sem_2_end`, `sem_3_start`, `sem_3_end`) VALUES
('2013-14', '2013-09-23', '2014-01-24', '2014-01-27', '2014-06-13', '2014-06-13', '2014-08-31'),
('2014-15', '2014-09-22', '2015-01-23', '2015-01-26', '2015-06-12', '2015-06-15', '2015-08-31'),
('2015-16', '2015-09-28', '2016-01-29', '2016-02-01', '2016-06-17', '2016-06-20', '2016-08-31'),
('2016-17', '2016-09-26', '2017-01-27', '2017-01-30', '2017-06-16', '2017-06-19', '2017-08-31'),
('2017-18', '2017-09-25', '2018-01-26', '2018-01-29', '2018-06-15', '2018-06-18', '2018-08-31');

/* Modules: Defines modules that students can take on courses */
CREATE TABLE IF NOT EXISTS `app_modules` (
	`module_id` int(11) NOT NULL AUTO_INCREMENT,
  `module_code` varchar(7) NOT NULL UNIQUE,
	`title` varchar(120) NOT NULL,
	`credits` int(2) NOT NULL DEFAULT 10,
	PRIMARY KEY (`module_id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

INSERT INTO `app_modules` (`module_code`, `title`) VALUES
('BIO1001', 'Cell Biology 1'),
('BIO1002', 'The Animal Kingdom'),
('BIO1003', 'Plant Biology 1'),
('BIO1004', 'Microbiology 1'),
('BIO1005', 'Evolution'),
('BIO1006', 'Ecology 1'),
('BIO1007', 'Introduction to Marine Vertebrates'),
('BIO1010', 'Biology In Action'),
('BIO1019', 'Introductory Biochemistry for Biologists'),
('BIO2002', 'Biodiversity and Conservation'),
('BIO2003', 'Field Identification Skills'),
('BIO2004', 'Plant Biology 2'),
('BIO2006', 'Entomology'),
('BIO2007', 'Vertebrate Biology'),
('BIO2008', 'Evolutionary and Population Genetics'),
('BIO2009', 'Ecology 2'),
('BIO2012', 'Molecular Genetics and Mammalian Biochemistry'),
('BIO2013', 'Animal Behaviour'),
('BIO2014', 'Animal Physiology'),
('BIO2015', 'Biotechnology 1'),
('BIO2017', 'Microbiology 2'),
('BIO2018', 'Pollution of Air, Water & Soil 1'),
('BIO2020', 'Experimental Design and Stats for Biology'),
('BIO2021', 'Vocational Placement for Biology'),
('BIO2022', 'Molecular Biology & Development'),
('BIO2023', 'Cell Biology 2'),
('BIO2024', 'Regulation of Cell Growth'),
('BIO3001', 'Animal Ecophysiology'),
('BIO3002', 'Ecology 3'),
('BIO3003', 'Ecological Modelling'),
('BIO3004', 'Plant Biology 3'),
('BIO3006', 'Plant-Animal Interactions'),
('BIO3009', 'Biological Control'),
('BIO3012', 'Conservation Biology Issues'),
('BIO3014', 'Evolution and Behaviour'),
('BIO3016', 'Mechanisms of Behaviour'),
('BIO3018', 'Biotechnology 2'),
('BIO3019', 'Genomics'),
('BIO3020', 'Bioremediation'),
('BIO3021', 'Laboratory Workshop'),
('BIO3022', 'Residential Field Course'),
('BIO3023', 'Plant Pathology'),
('BIO3030', 'Antimicrobial Drug Discovery'),
('BIO3031', 'Pollution of Air, Water & Soil 2'),
('BIO3032', 'Cell Biology 3'),
('BIO3033', 'Placement Report for Biology'),
('BIO3194', 'Biological Literature Review'),
('BIO3195', 'Biological Information Project'),
('BIO3196', 'Biological Research Project'),
('MST1101', 'Marine Biology'),
('MST1102', 'Diversity and Behaviour of Marine Animals'),
('MST1103', 'The Marine Environment'),
('MST1104', 'Marine Study Skills'),
('MST2101', 'Marine Ecology'),
('MST2102', 'Reproduction Physiology'),
('MST2103', 'Marine Processes and Cycles'),
('MST2104', 'Marine Research and Employability Skills'),
('MST2105', 'Marine Practical Skills'),
('MST3101', 'Advanced Marine Biology'),
('MST3102', 'Advanced Marine Zoology'),
('MST3103', 'Advanced Oceanography'),
('MST3104', 'Research Project: Marine Biology'),
('MST3105', 'Research Project: Marine Zoology'),
('MST3106', 'Research Project: Marine Biology & Oceanography'),
('MST3107', 'Research Project: Overseas');

/* Assessments: Defines the type of assessment, such as exams or essays */
CREATE TABLE IF NOT EXISTS `app_assess_types` (
	`assess_id` int(11) NOT NULL AUTO_INCREMENT,
	`assess_type_name` varchar(40) NOT NULL,
	PRIMARY KEY (`assess_id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

INSERT INTO `app_assess_types` (`assess_id`, `assess_type_name`) VALUES
(1, 'Written Work'),
(2, 'Exam'),
(3, 'Lab Report'),
(4, 'Oral Presentation'),
(5, 'Project');

/* Feedback: Defines the type of feedback staff can give back to students */
CREATE TABLE IF NOT EXISTS `app_feed_types` (
	`feed_id` int(11) NOT NULL AUTO_INCREMENT,
	`feed_type_name` varchar(40) NOT NULL,
	PRIMARY KEY (`feed_id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

INSERT INTO `app_feed_types` (`feed_id`, `feed_type_name`) VALUES
(1, 'Generic to Class'),
(2, 'Direct to Individual'),
(3, 'Verbal to Group');

/* YMAF data: Associates academic years, modules, assessment and feedback types */
/* Used to generate visual data: tuples contain information for each assessment */
CREATE TABLE IF NOT EXISTS `app_ymaf` (
	`ymaf_id` int(11) NOT NULL AUTO_INCREMENT,
	`year_id` int(11),
	`module_id` int(11),
	`assess_id` int(11),
	`feed_id` int(11),
	`title` varchar(150) NOT NULL DEFAULT 'Untitled assessment',
	`set_date` date NOT NULL,
	`due_date` date NOT NULL,
	`feed_date` date NOT NULL,
	PRIMARY KEY (`ymaf_id`),
	FOREIGN KEY (`year_id`) REFERENCES `app_aca_year` (`year_id`) ON DELETE SET NULL,
	FOREIGN KEY (`module_id`) REFERENCES `app_modules` (`module_id`) ON DELETE SET NULL,
	FOREIGN KEY (`assess_id`) REFERENCES `app_assess_types` (`assess_id`) ON DELETE SET NULL,
	FOREIGN KEY (`feed_id`) REFERENCES `app_feed_types` (`feed_id`) ON DELETE SET NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

INSERT INTO `app_ymaf` (`year_id`, `module_id`, `assess_id`, `feed_id`,
	`title`, `set_date`, `due_date`, `feed_date`) VALUES
('1','1','3','1','Lab 1','2013-11-19','2013-11-22','2013-12-06'),
('1','1','3','1','Lab 2','2013-11-26','2013-11-29','2013-12-06'),
('1','1','3','1','Lab 3','2013-12-03','2013-12-06','2014-01-06'),
('1','1','1','3','Worksheet','2013-11-26','2013-12-06','2014-01-06'),
('1','1','2','1','Exam','2014-01-13','2014-01-24','2014-01-31'),
('1','4','1','1','Worksheet 1','2013-10-08','2013-10-11','2013-10-22'),
('1','4','3','2','On-line assignment','2013-10-14','2013-10-18','2013-10-18'),
('1','4','1','1','Worksheet 2','2013-10-22','2013-10-25','2013-11-05'),
('1','4','3','2','On-line assignment','2013-10-28','2013-11-01','2013-11-01'),
('1','4','3','2','On-line assignment','2013-11-04','2013-11-08','2013-11-08'),
('1','4','1','1','Worksheet 3','2013-11-05','2013-11-08','2013-12-06'),
('1','4','3','1','Lab Report','2013-10-22','2013-11-15','2013-12-13'),
('1','4','2','1','Exam','2014-01-13','2014-01-24','2014-01-31'),
('1','5','1','3','Test on set reading 1','2013-10-24','2013-10-24','2013-10-24'),
('1','5','1','3','Test on set reading 2','2013-11-07','2013-11-07','2013-11-07'),
('1','5','1','3','Test on set reading 3','2013-11-19','2013-11-19','2013-11-19'),
('1','5','1','3','Test on set reading 4','2013-12-03','2013-12-03','2013-12-03'),
('1','5','2','1','Exam','2014-01-13','2014-01-24','2014-01-31'),
('1','8','1','3','Seminar write-up 1','2013-10-21','2013-10-24','2013-10-28'),
('1','8','1','3','Seminar write-up 2','2013-11-04','2013-11-07','2013-11-11'),
('1','8','5','1','Group poster','2013-11-11','2013-11-25','2013-11-27'),
('1','8','1','3','Seminar write-up 3','2013-12-02','2013-12-05','2013-12-09'),
('1','8','1','2','Essay 1','2013-10-28','2014-01-07','2014-01-07'),
('1','9','3','1','Lab report 1','2013-10-07','2013-10-18','2013-11-15'),
('1','9','3','1','Lab report 2','2013-10-21','2013-10-25','2013-11-08'),
('1','9','3','1','Lab report 3','2013-11-04','2013-11-15','2013-12-13'),
('1','9','3','1','Lab report 4','2013-11-18','2013-11-24','2013-12-20'),
('1','9','2','1','Exam 1','2014-01-13','2014-01-24','2014-01-31'),
('1','9','2','1','Exam 2','2014-05-19','2014-06-24','2014-06-30'),
('1','2','3','1','English Garden Invertebrates Prac. 1','2014-02-24','2014-02-24','2014-03-25'),
('1','2','3','1','Insect Prac. 2','2014-03-10','2014-03-10','2014-04-07'),
('1','2','3','1','Dinosaurs Prac. 3','2014-04-28','2014-05-06','2014-06-04'),
('1','2','1','1','In-course spot test','2014-05-09','2014-05-09','2014-05-09'),
('1','2','2','1','Exam','2014-05-19','2014-06-24','2014-06-30'),
('1','3','3','1','Lab 1','2014-02-03','2014-02-03','2014-03-03'),
('1','3','1','1','In class test 1','2014-02-03','2014-02-03','2014-03-03'),
('1','3','3','1','Lab 2','2014-02-17','2014-02-17','2014-03-17'),
('1','3','3','1','Lab 3','2014-03-03','2014-03-03','2014-03-31'),
('1','3','1','1','In class test 2','2014-03-03','2014-03-03','2014-03-31'),
('1','3','2','1','Exam','2014-05-19','2014-06-24','2014-06-30'),
('1','6','3','2','Fieldwork report 1','2014-03-08','2014-03-25','2014-03-28'),
('1','6','3','2','Fieldwork report 2','2014-03-25','2014-04-29','2014-05-02'),
('1','6','3','2','Fieldwork report 3','2014-04-29','2014-05-06','2014-05-09'),
('1','6','3','2','Fieldwork report 4','2014-05-06','2014-05-13','2014-05-16'),
('1','6','2','1','Exam','2014-05-19','2014-06-24','2014-06-30'),
('1','7','3','1','Fish biodiversity online test','2014-03-06','2014-03-14','2014-04-11'),
('1','7','3','1','Seabird Biology practical','2014-05-13','2014-05-13','2014-06-11'),
('1','7','2','1','Exam','2014-05-19','2014-06-24','2014-06-30'),
('1','8','1','1','Seminar report 4','2014-02-03','2014-02-06','2014-02-10'),
('1','8','4','1','Group presentation','2014-02-10','2014-02-24','2014-02-24'),
('1','8','1','1','Data Int exercise','2014-02-24','2014-03-06','2014-03-10'),
('1','8','3','1','Data display & interpretation test','2014-03-17','2014-03-17','2014-03-24'),
('1','8','1','1','Seminar report 5','2014-03-17','2014-03-20','2014-03-24'),
('1','8','1','2','Essay 2','2014-02-14','2014-04-29','2014-05-29'),
('1','9','3','2','Lab report 5','2014-02-06','2014-02-12','2014-02-19'),
('1','9','3','2','Lab report 6','2014-02-20','2014-02-26','2014-03-26'),
('1','9','3','1','Lab report 7','2014-03-27','2014-04-01','2014-05-07'),
('1','9','3','1','Lab report 8','2014-05-08','2014-05-15','2014-06-13'),
('1','10','3','1','Online practical test 1','2014-01-29','2014-02-03','2014-03-03'),
('1','10','3','1','Online practical test 2','2014-02-12','2014-02-17','2014-03-17'),
('1','10','3','1','Online practical test 3','2014-02-26','2014-03-03','2014-03-31'),
('1','10','2','1','Exam','2014-05-19','2014-06-24','2014-06-30'),
('1','12','3','3','Lab report 1','2013-10-15','2013-10-22','2013-10-29'),
('1','12','3','3','Lab report 2','2013-10-28','2013-11-05','2013-11-12'),
('1','12','2','1','Exam','2014-01-13','2014-01-24','2014-01-31'),
('1','13','3','1','Practical 1','2013-10-17','2013-10-24','2013-10-31'),
('1','13','3','1','Practical 2','2013-10-31','2013-11-07','2013-11-14'),
('1','13','3','1','Practical 3','2013-11-14','2013-11-21','2013-11-24'),
('1','13','3','2','Practical 4','2013-11-28','2013-12-03','2014-01-10'),
('1','13','2','1','Exam','2014-01-13','2014-01-24','2014-01-31'),
('1','14','1','2','Dissection drawing 1 (frog)','2014-03-18','2014-03-18','2014-04-15'),
('1','14','1','2','Dissection drawing 2','2014-04-29','2014-04-29','2014-05-06'),
('1','14','1','2','Dissection drawing 3','2014-05-06','2014-05-06','2014-06-04'),
('1','14','2','1','Exam','2014-05-19','2014-06-24','2014-06-30'),
('1','15','1','3','Homework exercise 1','2014-02-06','2014-02-11','2014-03-11'),
('1','15','1','3','Homework exercise 2','2014-02-24','2014-03-07','2014-04-04'),
('1','15','1','3','Homework exercise 3','2014-03-07','2014-03-14','2014-04-11'),
('1','15','1','3','Homework exercise 4','2014-04-21','2014-04-28','2014-05-28'),
('1','15','1','3','Homework exercise 5','2014-05-02','2014-05-07','2014-06-05'),
('1','15','2','1','Exam','2014-05-19','2014-06-24','2014-06-30'),
('1','16','3','1','Lab practical 1','2014-02-28','2014-02-28','2014-03-14'),
('1','16','3','1','Lab practical 2','2014-03-14','2014-03-14','2014-03-21'),
('1','16','3','1','Computer practical 1','2014-03-21','2014-03-21','2014-03-28'),
('1','16','3','1','Computer practical 2','2014-03-28','2014-03-28','2014-04-29'),
('1','16','2','1','Exam','2014-05-19','2014-06-24','2014-06-30'),
('1','17','2','1','Exam','2014-01-13','2014-01-24','2014-01-31'),
('1','18','3','1','Practical report 1','2013-10-24','2013-11-08','2013-11-22'),
('1','18','3','1','Practical report 2','2013-12-12','2014-01-10','2014-01-24'),
('1','18','2','1','Exam','2014-01-13','2014-01-24','2014-01-31'),
('1','19','3','1','Practical 1','2013-10-15','2013-10-15','2013-10-28'),
('1','19','2','1','Practice Exam','2013-10-25','2013-10-25','2013-10-25'),
('1','19','3','1','Practical 2','2013-11-12','2013-11-25','2013-12-24'),
('1','19','3','1','Practical 3','2013-10-29','2013-10-31','2013-11-11'),
('1','19','2','1','Exam','2014-01-13','2014-01-24','2014-01-31'),
('1','20','3','1','Practical report 1','2014-02-17','2014-03-03','2014-03-31'),
('1','20','3','1','Practical report 2','2014-03-04','2014-03-17','2014-04-11'),
('1','20','2','1','Exam','2014-05-19','2014-06-24','2014-06-30'),
('1','21','1','1','Worksheet','2014-02-27','2014-03-06','2014-03-06'),
('1','21','3','3','Lab Skills','2014-03-06','2014-03-06','2014-03-06'),
('1','21','1','2','Bug profile','2014-02-07','2014-03-10','2014-04-07'),
('1','21','3','1','Practical report','2014-03-13','2014-03-27','2014-04-28'),
('1','21','2','1','Exam','2014-05-19','2014-06-24','2014-06-30'),
('1','22','3','1','Biostress Computer Practical','2013-11-19','2013-11-19','2013-12-17'),
('1','22','4','3','Group presentation','2013-10-21','2013-11-29','2013-11-29'),
('1','22','1','2','Group report','2013-10-21','2013-11-29','2014-01-06'),
('1','22','2','1','Exam','2014-01-13','2014-01-24','2014-01-31'),
('1','23','3','1','Practical assignment 1','2013-10-09','2013-10-11','2013-10-11'),
('1','23','3','1','Practical assignment 2','2013-10-23','2013-10-25','2013-10-25'),
('1','23','3','1','Practical assignment 3','2013-11-06','2013-11-08','2013-11-08'),
('1','23','3','1','Practical assignment 4','2013-11-20','2013-11-22','2013-11-22'),
('1','23','3','1','Practical assignment 5','2013-12-04','2013-12-04','2013-12-04'),
('1','23','2','1','Exam','2014-01-13','2014-01-24','2014-01-31'),
('1','24','1','1','Work placement plan (2x sides of A4)','2014-01-29','2014-02-17','2014-03-17'),
('1','24','4','3','Presentation','2014-03-26','2014-05-07','2014-06-05'),
('1','24','1','2','Placement report (>2000 words)','2014-03-26','2014-05-12','2014-06-10'),
('1','25','3','3','Quiz 1','2013-10-17','2013-10-17','2013-10-17'),
('1','25','3','3','Quiz 2','2013-10-31','2013-10-31','2013-10-31'),
('1','25','3','2','Practical 1 report','2013-11-08','2013-11-15','2013-12-13'),
('1','25','3','3','Quiz 3','2013-11-18','2013-11-18','2013-11-18'),
('1','25','3','2','Practical 2 report','2013-11-22','2013-11-22','2013-11-23'),
('1','25','3','3','Quiz 4','2013-12-06','2013-12-06','2013-12-06'),
('1','25','2','1','Practice Exam','2013-12-09','2013-12-09','2014-01-15'),
('1','25','2','1','Exam','2014-01-13','2014-01-24','2014-01-31'),
('1','26','1','1','Report 1','2013-10-18','2013-10-24','2013-11-07'),
('1','26','1','1','Report 2','2013-11-01','2013-11-07','2013-11-21'),
('1','26','3','3','In course test 1','2013-11-20','2013-11-20','2013-11-27'),
('1','26','1','1','Report 3','2013-11-15','2013-11-21','2013-12-13'),
('1','26','1','1','Report 4','2013-11-21','2013-11-28','2013-12-13'),
('1','26','3','2','Problem set','2013-11-27','2013-12-05','2013-12-05'),
('1','26','3','2','In course test 2','2013-12-12','2013-12-12','2013-12-12'),
('1','26','1','1','Report 5','2013-12-13','2014-01-09','2014-02-06'),
('1','26','2','1','Exam','2014-01-13','2014-01-24','2014-01-31'),
('1','27','2','1','Exam','2014-01-13','2014-01-24','2014-01-31'),
('1','11','5','2','Assessment 1','2014-05-19','2014-06-24','2014-06-30'),
('1','11','5','2','Assessment 2','2014-05-19','2014-06-24','2014-06-30'),
('1','28','1','1','Edinburgh Zoo Worksheet','2013-11-08','2013-11-08','2013-12-06'),
('1','28','4','2','Group poster presentation','2013-10-14','2013-12-09','2014-01-14'),
('1','28','2','1','Exam','2014-01-13','2014-01-24','2014-01-31'),
('1','29','1','2','Policy/Management brief','2014-03-12','2014-03-26','2014-04-25'),
('1','29','2','1','Exam','2014-05-19','2014-06-24','2014-06-30'),
('1','30','5','2','Project report (2000 words)','2013-09-30','2014-01-06','2014-02-03'),
('1','31','4','2','Poster and conference','2014-01-28','2014-03-07','2014-04-04'),
('1','31','2','1','Exam','2014-01-13','2014-01-24','2014-01-31'),
('1','32','2','1','Exam','2014-05-19','2014-06-24','2014-06-30'),
('1','33','1','2','Essay 1','2013-11-11','2013-11-25','2013-12-23'),
('1','33','1','2','Essay 2','2013-11-11','2013-11-25','2013-12-23'),
('1','33','2','1','Exam','2014-01-13','2014-01-24','2014-01-31'),
('1','34','3','1','Problem solving test','2014-03-05','2014-03-10','2014-04-07'),
('1','34','2','1','Exam','2014-05-19','2014-06-24','2014-06-30'),
('1','35','2','1','Exam','2014-01-13','2014-01-24','2014-01-31'),
('1','36','2','1','Exam','2014-05-19','2014-06-24','2014-06-30'),
('1','37','1','2','Case study 1','2013-10-15','2013-11-04','2013-12-02'),
('1','37','1','1','Case study 2','2013-11-11','2013-12-09','2014-01-14'),
('1','37','2','1','Exam','2014-01-13','2014-01-24','2014-01-31'),
('1','38','3','1','Using Bioinformatics software','2013-10-07','2013-12-06','2014-01-13'),
('1','38','2','1','Exam','2014-01-13','2014-01-24','2014-01-31'),
('1','39','1','2','1500 word written exercise','2014-02-07','2014-03-27','2014-04-28'),
('1','39','2','1','Exam','2014-05-19','2014-06-24','2014-06-30'),
('1','40','2','3','Short answer test','2013-09-19','2013-09-19','2013-09-19'),
('1','40','3','2','Lab skills assessment','2013-09-16','2013-09-20','2013-09-20'),
('1','40','1','2','Data Analysis report','2013-09-20','2013-10-07','2013-11-19'),
('1','40','1','2','Comprehension questions','2013-09-20','2013-10-07','2013-11-19'),
('1','41','5','2','Project report','2013-09-20','2013-10-07','2013-11-19'),
('1','42','1','1','Report on computer practicals','2013-11-13','2013-12-04','2014-01-09'),
('1','42','2','1','Exam','2014-05-19','2014-06-24','2014-06-30'),
('1','43','3','2','In class test 1','2014-02-14','2014-02-14','2014-02-14'),
('1','43','3','2','In class test 2','2014-03-07','2014-03-07','2014-03-07'),
('1','43','3','2','Practical laboratory','2014-02-12','2014-03-28','2014-04-29'),
('1','43','2','1','Exam','2014-05-19','2014-06-24','2014-06-30'),
('1','44','1','2','Situation report (30%)','2014-02-07','2014-03-07','2014-04-04'),
('1','44','2','1','Exam','2014-05-19','2014-06-24','2014-06-30'),
('1','45','3','2','Data interpretation test','2014-03-14','2014-03-14','2014-04-09'),
('1','45','1','2','Analysis of a set of papers studied in the workshop','2014-03-28','2014-05-09','2014-06-14'),
('1','45','2','1','Exam','2014-05-19','2014-06-24','2014-06-30'),
('1','46','1','2','3000 word scientific review on relevant topic','2013-09-30','2013-12-13','2014-01-20'),
('1','46','1','2','3000 word factual and reflective report on placement','2013-09-30','2013-11-15','2013-12-13'),
('1','47','1','2','Project plan','2013-09-30','2013-12-13','2014-01-20'),
('1','47','1','2','Short review (3000 words)','2013-09-30','2013-12-15','2014-12-13'),
('1','47','4','2','Presentation','2013-09-30','2014-03-06','2014-04-10'),
('1','47','5','2','Long review (8000 words)','2013-09-30','2014-04-30','2014-06-20'),
('1','48','1','1','Project plan','2013-09-30','2013-10-18','2013-10-25'),
('1','48','1','2','Literature Review (3000 words)','2013-09-30','2013-11-15','2013-12-13'),
('1','48','5','2','Project materials and report (8000 words)','2013-09-30','2014-04-30','2014-06-20'),
('1','49','1','1','Project plan','2013-09-30','2013-10-18','2013-10-25'),
('1','49','1','2','Literature review (3000 words)','2013-09-30','2013-11-15','2013-12-13'),
('1','49','5','2','Dissertation (8000 words)','2013-09-30','2014-04-30','2014-06-20'),
('1','50','1','2','2000 word essay','2014-01-20','2014-02-02','2014-03-02'),
('1','50','2','1','PC Test','2014-05-19','2014-06-24','2014-06-30'),
('1','51','2','2','2000 word essay','2014-01-26','2014-03-09','2014-04-07'),
('1','51','2','1','PC Test','2014-05-19','2014-06-24','2014-06-30'),
('1','52','1','2','2000 word essay','2014-02-02','2014-04-20','2014-05-18'),
('1','52','2','1','PC Test','2014-05-19','2014-06-24','2014-06-30'),
('1','53','1','2','Essay (1000 words)','2014-01-27','2014-04-13','2014-05-11'),
('1','53','4','3','PowerPoint presentation (15 mins)','2014-01-27','2014-04-30','2014-05-25'),
('1','54','1','2','2000 word essay','2013-11-20','2013-12-01','2014-01-12'),
('1','54','2','1','PC Test','2014-01-13','2014-01-24','2014-01-31'),
('1','55','1','2','2000 word essay','2014-01-27','2014-04-20','2014-05-18'),
('1','55','2','1','PC Test','2014-05-19','2014-06-24','2014-06-30'),
('1','56','1','2','2000 word essay','2014-01-27','2014-04-20','2014-05-18'),
('1','56','2','1','PC Test','2014-05-19','2014-06-24','2014-06-30'),
('1','57','1','2','Library Project Essay 4 (1500 words)','2014-01-30','2014-04-27','2014-05-25'),
('1','57','1','2','Reflective Log 2000 words','2013-10-20','2014-04-24','2014-05-18'),
('1','57','4','3','Library Project PowerPoint presentation (15 mins)','2014-04-15','2014-05-04','2014-06-01'),
('1','58','3','1','Zoology practical write up (1000 words)','2014-04-30','2014-04-30','2014-05-28'),
('1','58','3','1','Oceanography practical write up (1000 words)','2014-02-26','2014-03-16','2014-04-13'),
('1','59','2','1','Boat worksheet','2014-01-13','2014-01-24','2014-01-31'),
('1','60','2','1','Boat worksheet','2014-05-19','2014-06-24','2014-06-30'),
('1','61','2','1','Boat worksheet','2014-05-19','2014-06-24','2014-06-30'),
('1','62','1','2','Overseas field course report (2000 words)','2013-09-05','2013-10-27','2013-11-24'),
('1','63','1','2','Research project proposal (2x pages)','2014-04-16','2014-05-15','2014-06-12'),
('1','64','1','2','Literature review (4000 words)','2013-09-29','2013-11-17','2013-12-15'),
('1','64','1','2','Research project report (4000 words)','2013-09-29','2014-04-13','2014-06-05'),
('1','64','4','1','Scientific conference presentation (15 mins)','2014-02-09','2014-05-01','2014-05-25'),
('1','65','1','2','Overseas field course report (2000 words)','2013-09-05','2013-10-27','2013-11-24'),
('1','65','1','2','Research project proposal (4000 words)','2014-04-16','2014-05-15','2014-06-12'),
('1','65','1','2','Critical essay (6000 words)','2013-09-29','2014-04-13','2014-05-11'),
('1','65','4','3','Scientific Conference Presentation (15 mins)','2014-02-09','2014-05-01','2014-05-25');

/* Combinations: allow users to save custom combinations of modules (see later for relationship) */
CREATE TABLE IF NOT EXISTS `app_combos` (
	`combo_id` int(11) NOT NULL AUTO_INCREMENT,
	`title` varchar(150) NOT NULL,
	`user_id` int(11) NOT NULL,
	PRIMARY KEY (`combo_id`),
	FOREIGN KEY (`user_id`) REFERENCES `sys_users` (`user_id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

/* Associations of modules to combinations (i.e. what modules constitute a given degree?) */
CREATE TABLE IF NOT EXISTS `app_modcom` (
	`combo_id` int(11) NOT NULL,
	`module_id` int(11) NOT NULL,
	PRIMARY KEY (`combo_id`, `module_id`),
	FOREIGN KEY (`combo_id`) REFERENCES `app_combos` (`combo_id`),
	FOREIGN KEY (`module_id`) REFERENCES `app_modules` (`module_id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
